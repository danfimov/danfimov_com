{% extends "base.html" %}


{% block content %}
<div class="max-w-5xl items-center mx-auto">
<h1 class="text-5xl mb-8 mt-8">Создаем интерфейсы руками питониста и не страдаем</h1>

<p class="mb-2">
    Людей, умеющих делать хорошие интерфейсы, мало. Бекендеров, умеющий делать хорошие интерфейсы - еще меньше.
</p>

<p class="mb-2">
    В этой статье я поделюсь историей о том, как я, будучи бекендером с минимальными знаниями фронтенд-технологий,
    справлялся с реализацией интерфейсов и чему успел научиться.
</p>

<h2 class="text-4xl mb-8 mt-8">А в чем собственно задача?</h2>

<p class="mb-2">
    На момент написания статьи я работаю над бекендом LMS Летних школ Яндекса. Код этого проекта - форк кода Яндекс
    Лицея с натянутым поверх новым UI от команды HR Tech и рядом хаков на стороне бекенда. Отсюда уже можно понять, что
    в коде куча ненужных вещей и еще больше - костылей чтобы это всё работало.
</p>

<h3 class="text-3xl mb-4 mt-4">Что болит</h3>

<p class="mb-2">
    Единственный менеджер задолбался руками забивать контент для курсов. Сторонние менеджеры даже с длинными мануалами
    на внутренней wiki не справлялись с тем, чтобы создавать контент самостоятельно: правильно заполнить 50 полей только
    чтобы создать курс - это боль, понять, почему он после создания не отображается в интерфейсе - боль еще большая.
</p>

<p class="mb-2">
    Решено было перед следующим набором потратить часть ресурсов на то, чтобы сделать нормальный бек-офис: место, где
    можно было бы удобно создавать контент без знаний черной магии. Создавать нужно курсы, модули, занятия и заданий
    внутри занятий. Желательно без ввода лишних и неиспользуемых полей, а также с интуитивно понятным интерфейсом.
</p>

<h3 class="text-3xl mb-4 mt-4">Варианты и ресурсы</h3>

<p class="mb-2">
    Команда состоит из трех человек: бекендера (меня), фронтендера и менеджера. Ресурсов немного, задач перед новым
    сезоном летних школ хватает. Поэтому нужно делать минимальными усилиями и желательно сразу удобно.
</p>

<p class="mb-2">Обсудили варианты, поняли, что есть два пути:</p>

<table class="table-auto border-collapse border border-slate-400 m-4">
    <thead>
        <tr>
            <th class="border border-slate-300 p-4 bg-sky-100"></th>
            <th class="border border-slate-300 p-4 bg-sky-100">API + интерфейс</th>
            <th class="border border-slate-300 p-4 bg-sky-100">Django шаблоны</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="border border-slate-300 p-4">Ресурсы разработки</td>
            <td class="border border-slate-300 p-4">Бекендер + фронтендер</td>
            <td class="border border-slate-300 p-4">Бекендер</td>
        </tr>
        <tr>
            <td class="border border-slate-300 p-4">Привычность технологий</td>
            <td class="border border-slate-300 p-4">Все знают свои инструменты</td>
            <td class="border border-slate-300 p-4">Бекендер не умеет делать хорошие интерфейсы и почти не работал с django шаблонами</td>
        </tr>
        <tr>
            <td class="border border-slate-300 p-4">Кодовая база</td>
            <td class="border border-slate-300 p-4">Три (Django бекенд + фронт-бек на Node + интерфейс на React), жестко связанные контрактами</td>
            <td class="border border-slate-300 p-4">Одна (Django бекенд)</td>
        </tr>
        <tr>
            <td class="border border-slate-300 p-4">Сложность внесения изменений</td>
            <td class="border border-slate-300 p-4">Нужно будет согласовывать между разработчиками любые изменения.</td>
            <td class="border border-slate-300 p-4">Достаточно внести изменения в одном месте</td>
        </tr>
        <tr>
            <td class="border border-slate-300 p-4">Тесты</td>
            <td class="border border-slate-300 p-4">Для полноценного интеграционного тестирования нужно развернуть фронт + фронт-бек + бекенд</td>
            <td class="border border-slate-300 p-4">Тесты для форм и шаблонов можно написать прямо рядом с тестами на API</td>
        </tr>
    </tbody>
</table>

<p class="mb-2">
    Прикинули, что нам важно было бы быстро вносить правки и прототипировать, накинули недельку к сроками в надежде, что
    я быстро научусь делать хорошо и на фронте (ха, наивные мы конечно). Разошлись.
</p>

<p class="mb-2">
    Спустя три часа я задумался "блин, а формы есть в обычной django админке. может их как-нибудь кастомизируем?". За 20
    минут накидал прототип:
</p>
<img src="/static/assets/images/posts/pretty_django_admin/course_creation_prototype.jpg">
<p class="mb-2">
    Вроде есть потенциал: присутствуют только нужные
    поля с группировка по тематике, виджетами можно упростить редактирование json-полей, а названия сделать
    человекочитаемыми. "Дешево и сердито" - идеально описывает ситуацию. Прикинули, что можно <span class="line-through">натянуть сову на
    глобус</span>s кастомизацией форм сделать юзабельно и приняли этот вариант. Разумеется, всё пошло совсем не по плану...
</p>

<h2 class="text-4xl mb-8 mt-8">Make admin panel great again</h2>

<p class="mb-2">
    Стандартная панель администратора Django далека от современных интерфейсов. Как минимальными усилиями это поправить?
    Подключить библиотеку с нормальным UI!
</p>

<p class="mb-2">
    Оказалось, что популярных вариантов не так много: django-unfold, django-jazzmin и django-suit. Сравнение их фич
    можно найти тут: https://unfoldadmin.com/django-admin-themes-comparison/
</p>

<p class="mb-2">
    Мне подошел django-unfold по нескольким причинам: 1) Самый современный интерфейс среди конкурентов; 2) Библиотека
    компонентов, которые можно использовать на своих кастомных страничках. Для моей задачи пригодилось бы; 3) Удобные
    инструменты: htmx и tailwind. К этому я вернусь позже на этапе кастомизации.
</p>

<p class="mb-2">Решено, тащим к себе в зависимости.</p>

<h3 class="text-3xl mb-4 mt-4">Подключаем django-unfold</h3>

<p class="mb-2">
    Было легко написать в консоли <code>uv add django-unfold</code>. Дальше есть целый
    <a href="https://unfoldadmin.com/docs/installation/quickstart/">гайд по подключению в документации</a>. Что вообще
    может пойти не так?
</p>

<h3 class="text-3xl mb-4 mt-4">Находим замену привычным инструментам</h4>

<p class="mb-2">
    Главное приемущество django-unfold в том, что эта библиотека может заменить собой ряд более специфичных библиотек.
    Например, чтобы понять, в каком окружении сейчас работает админка, я обычно использовал библиотеку
    <a href="https://github.com/dizballanze/django-admin-env-notice">django-env-notice</a> - она добавляет плашку в
    зависимости от env-переменных: ![[env<em>banner</em>old.png]]
</p>

<p class="mb-2">
    В django-unfold есть похожий механизм, позволяющий задать бейдж через опции в настройках. Достаточно указать в
    настройках функцию, откуда мы будем брать текст и цвет бейджа: ```python UNFOLD = { ... "ENVIRONMENT":
    "sample<em>app.environment</em>callback", }
</p>

<p class="mb-2">
    def environment_callback(request) -> list[str, str]: """ Должен возвращать текст и цвет """ return [ "Production",
    "danger" # доступы значения info, danger, warning, success ] ```
</p>

<p class="mb-2">Выглядит это так: ![[env<em>banner</em>new.png]]</p>

<h3 class="text-3xl mb-4 mt-4">Заменяем (почти) все кастомные фильтры</h4>

<p class="mb-2">
    В документации django-unfold есть целый
    <a href="https://unfoldadmin.com/docs/filters/introduction/">раздел про фильтры</a>. Фильтр по дате и времени
    убирает необходимость в использовании
    <a href="https://github.com/silentsokolov/django-admin-rangefilter">django-admin-rangefilter</a>:
</p>

<p class="mb-2">```python from rangefilter.filters import ( DateRangeFilterBuilder, DateTimeRangeFilterBuilder, )</p>

<p class="mb-2">
    @admin.register(Example) class ExampleAdmin(ModelAdmin): list<em>filter = ( ("created</em>at",
    DateRangeFilterBuilder()), ("updated_at", DateTimeRangeFilterBuilder()), )
</p>

<h1>Меняем на</h1>

<p class="mb-2">from unfold.contrib.filters.admin import RangeDateFilter, RangeDateTimeFilter</p>

<p class="mb-2">
    @admin.register(Example) class ExampleAdmin(ModelAdmin): list<em>filter = ( ("created</em>at", RangeDateFilter()),
    ("updated_at", RangeDateTimeFilter()), ) ``` Аналогично реализация текстового фильтра из библиотеки заменила собой
    мою собственную.
</p>

<p class="mb-2">
    Но есть неприятный нюанс использования фильтров. Фильтры в django-unfold - это форма, в которой по-умолчанию нет
    кнопки "Применить". Это отлично работает с полями, где есть фиксированное множество возможных значений (boolean,
    например), но вообще не работает с текстом (в данном примере есть одно текстовое поле с названием курса):
    ![[text_filter.png]] Оказалось, что для появления кнопки "применить фильтры", нужно добавить:
</p>

<p class="mb-2">
    <code
        >python @admin.register(Course) class CourseAdmin(ModelAdmin): form = CourseForm list_filter_submit = True # add
        "Apply Filters" button
    </code>
</p>

<p class="mb-2">
    Теперь работает: ![[text<em>filter</em>with_submit.png]] Почему эта опция не включена по умолчанию - не очень
    понятно. Пришлось наследовать модели в админке от своего класса, где эта опция включена по-умолчанию.
</p>

<h3 class="text-3xl mb-4 mt-4">А порядок меняете? Не, только показываем</h4>

<p class="mb-2">
    В django-unfold есть очень удобная фича - возможность drag-n-drop сортировки inline объектов (aka
    <a href="https://unfoldadmin.com/docs/inlines/sortable/">sortable inlines</a>):
</p>

<p class="mb-2">
    ![[stacked_inline.mov]] Одна проблема. Если вы используйте в проекте пакет
    <a href="https://github.com/django-ordered-model/django-ordered-model">django-ordered-model</a>, работать это не
    будет. Проблема в том, что поле для хранения порядка по умолчанию создается с <code>editable=False</code>, что
    мешает менять order напрямую:
</p>

<pre>
<code class="language-python">
class OrderedModel(OrderedModelBase):
    """
    An abstract model that allows objects to be ordered relative to each other.
    Provides an ``order`` field.
    """

    order = models.PositiveIntegerField(_("order"), editable=False, db_index=True)
</code>
</pre>

<p class="mb-2">Решение в этом случае может быть простым - написать свой миксин с <code>editable=True</code>.</p>

<p class="mb-2">
    В моем случае я вообще решил избавить от этой библиотеки, так как она использовалась в большинстве случаев как раз
    для подключения возможности изменения order в админке (стрелочками up/down). Минус одна зависимость - плюс в сторону
    django-unfold.
</p>

<h3 class="text-3xl mb-4 mt-4">Заменяем кастомные действия</h4>

<p class="mb-2">
    Разумеется для некоторых моделей в админке были написаны свои кастомные действия (aka actions) с использованием
    <code>django_object_actions</code>. Проблема в том, что они криво отображаются в новом интерфейсе, так как
    django-unfold использует
    <a href="https://unfoldadmin.com/docs/actions/introduction/">свою реализацию для actions</a> и не поддерживает
    что-то кроме неё:
</p>

<p class="mb-2">![[actions<em>not</em>working.png]]</p>

<p class="mb-2">
    Реализация из django-unfold не позволяет сделать операции сразу над несколькими сущностями, потому что на вход в
    action передается лишь id объекта. Даже если вы вызвали действие для пачки сущностей - функция будет вызвана для
    каждой сущности отдельно.
</p>

<p class="mb-2">
    Это может быть проблемой для тяжеловесных операций, но в случае моего проекта - я просто переписал все балковые
    операции на реализацию для каждого отдельного элемента и спокойно убрал из зависимостей
    <code>django-object-action</code>.
</p>

<h3 class="text-3xl mb-4 mt-4">Начинаем делать удобно</h3>

<p class="mb-2">
    Окей, современно выглядящие стили - натянули, сломанное в процессе "реновации" - починили. Но удобнее не стало от
    слова совсем.
</p>

<p class="mb-2">
    Чтобы не быть голословным, подумаем над базовым сценарием - создание занятия. Заходит методист в админку - куда
    дальше? Пойдем искать в длинном списке сущностей "занятия"? Удачи, она называется <code>Lessons</code>, находится
    ближе к концу страницы (замучаешься скроллить) и содержит Lessons, LessonVariant, LessonGroups и прочие вещи,
    которые ставят в ступор. Надо править.
</p>

<h3 class="text-3xl mb-4 mt-4">Главное должно быть рядом</h4>

    <p class="mb-2">Для начала я сел и расписал, что хочу видеть:</p>

    <ul class="list-disc ml-4 mb-2">
        <li>В навигации по одному клику должны быть самые нужные вещи:
            <ul class="list-disc ml-4">
                <li>курсы, уроки и прочее - для методиста;</li>
                <li>пользователи и их группы - для менеджера;</li>
                <li>celery - для ~~меня любимого~~ разработчика.</li>
            </ul>
        </li>
        <li>Я не хочу видеть то, чем Летние Школы не пользуются: приглашения, расписание занятий, семестры и много чего еще, что было полезно в Лицее, но бессмысленно для нас.</li>
    </ul>

<p class="mb-2">
    Как добиться подобного с <a href="https://unfoldadmin.com/docs/configuration/settings/">настройками unfold</a>:
</p>
<pre>
    <code>
UNFOLD = {
    "SIDEBAR": {
        "show_search": True,  # Search in applications and models names
        "show_all_applications": True,  # Dropdown with all applications and models
        "navigation": [
            {
                "title": _("Бэк-офис"),
                "separator": True,  # Top border
                "collapsible": False,  # Collapsible group of links
                "items": [
                    {
                        "title": _("Курсы"),
                        "icon": "import_contacts",  # Supported icon set: https://fonts.google.com/icons
                        "link": reverse_lazy("admin:course_course_changelist"),
                    },
                    ...
                ],
            },
            {
                "title": _("Пользователи & Группы"),
                "collapsible": True,
                "items": [
                    {
                        "title": _("Users"),
                        "icon": "person",
                        "link": reverse_lazy("admin:account_user_changelist"),
                    },
                    ...
                ],
            },
            ...
        ],
    }
}
    </code>
</pre>

<p class="mb-2">
    Очень радует в данном случае, что можно указать ссылки на произвольные странички - от list view до кастомных страниц
    в админке и вне её. Удобно!
</p>

<h3 class="text-3xl mb-4 mt-4">Локализация - это важно</h4>

<p class="mb-2">
    По мере необходимости стоит локализовать админку. Очень неудобно, когда пользователю админки надо думать "а мне
    нужно искать 'занятия' или 'lessons'?". Отнимает время и нервы, но не критично.
</p>

<p class="mb-2">
    Даже в среднем по размерам проекте локализовать всё - боль. Надо добавить всем моделям
    <code>Meta-&gt;verbose_name</code> и <code>Meta-&gt;plural_name</code>, зайти в <code>.po</code> файл и добавить
    новые пары слово-перевод, перекомпилировать файлы с переводом из <code>.po</code> в <code>.mo</code>. Поэтому стоит
    начать с наиболее часто используемых приложений, а остальное переводить по мере необходимости.
</p>

<p class="mb-2">
    В итоге получилось такое: ![[result_admin.png]] Всё еще есть куда стремиться, но по крайней мере навигация теперь
    приносит в разы меньше боли.
</p>

<h2 class="text-4xl mb-8 mt-8">Делаем интерфейс под задачу пользователя</h2>

<p class="mb-2">
    Сайд-квест с натягиванием стилей на всю админку закончился. Пришло время делать самое сложное и полезное -
    функционал для создания учебных материалов.
</p>

<p class="mb-2">
    Расскажу, как я ломал голову над интерфейсом на примере умеренно сложной странички с отображением структуры курса.
    Требования сформулированы примерно так: - Курс состоит из модулей, в каждом модуле - занятия, в занятиях - задачи
    (получается три уровня вложенности); - Нужно уметь отображать полное дерево - структуру курса на одной страничке без
    дополнительных кликов; - Должно быть легко менять порядок задач в занятии (желательно drag-n-drop, но можно и просто
    стрелочками); - Должно быть легко проваливаться в редактирование сущности (модуля, занятия, задания).
</p>

<h3 class="text-3xl mb-4 mt-4">Откуда брать интерфейс</h3>

<p class="mb-2">
    Для начала неплохо было бы понять, а как моё поделие должно выглядеть. Дизайнера под рукой нет, на курсы дизайна или
    UI/UX нет ни денег, ни времени. Я решил обратиться к тем инструментам, что уже есть в проекте - и взял в качестве
    вдохновения django-unfold. Что там используется под капотом?
</p>

<p class="mb-2">![[unfold_tools.png]]</p>

<p class="mb-2">Во-первых, хочется, чтобы было красиво - значит посмотрим на TailwindCSS.</p>

<blockquote>
    <p class="mb-2">
        Дисклеймер: я еще со времен универа знаком с html/css. Для тех, кто еще не успел - рекомендую для начала
        ознакомиться с базой, а уже потом идти изучать инструменты вроде Tailwind. Потому что не зная, как вообще
        работают стили, довольно сложно использовать классы оттуда.
    </p>
</blockquote>

<p class="mb-2">
    TailwindCSS удобен тем, что у него из коробки доступны фичи, чтобы быстро делать красиво: - Zero configuration
    start. Для начала вообще не нужно ничего настраивать. Базовых стилей будет вполне достаточно, о переиспользовании и
    кастомизации можно подумать позже; - Есть своя красивая палитра сочетающихся цветов (в моем случае я просто
    подсмотрел, что используется в django-unfold); - Есть своя понятная размерная сетка.
</p>

<p class="mb-2">
    Для Django шаблонов Tailwind особенно удобен тем, что не нужны отдельные файлы со стилями, можно просто написать всё
    в одном html-файле. Подключение тоже не составляет проблем, можно почитать
    <a href="https://www.freecodecamp.org/news/how-to-integrate-tailwind-with-django/">гайд на FreeCodeCamp</a>,
    например.
</p>

<p class="mb-2">
    Во-вторых, хочется, чтобы было удобно. А что вообще значит удобно? Здесь мне под руку попалась книга
    <a href="https://www.refactoringui.com/">"Refactoring UI"</a>, которую так рекомендуют создатели Tailwind. Не
    поленюсь оставить ссылку на
    <a href="https://libgen.is/book/index.php?md5=C0008A5B7285DD078C6AFC3F5881B06D">Library Genesis</a>, потому что цена
    прочтения - один вечер, а умение аргументировано сказать, почему UX на странице так себе - бесценно.
</p>

<p class="mb-2">В-третьих, не хочется придумывать весь стиль с чистого листа. С этим мне помогли три вещи:</p>

<p class="mb-2">
    1) django-unfold с его компонентами и дешбордом из демо приложения. Компоненты позволяют переиспользовать привычные
    поля ввода и кнопочки, а дешборд позволяет понять, какие полезные элементы для организации пространства могут быть
    на страничке (например, блоки с обводкой и заголовками). ![[unfold_dashboard.png]]
</p>

<p class="mb-2">
    2) <a href="https://bolt.new/">bolt.new</a> с его бесплатным демо, позволяющим быстро накидать интерфейс с помощью
    промптов. Я так, например, быстро накидал интерфейс для отображения структуры курса. Для меня этот инструмент
    работает только в качестве заполнителя пустого листа. Код на нужном стеке и с нужными технологиями всё равно нужно
    писать ручками (не надо пытаться заставить AI сделать это за вас - зря потратите токены и время).
    ![[bold_prototype.png]] 3) Библиотеки готовых компонентов с использованием tailwind. Например,
    <a href="https://tailblocks.cc/">Tailblocks</a>. Я подсматривал оттуда, как можно использовать привычные для
    пользователя компоненты, чтобы отображать полезную информацию в админке.
</p>

<p class="mb-2">
    Вооружившись документацией, ворохом компонент и приемов из книги я наваял такое: ![[course_structure.png]] Не скажу,
    что полностью рад получившемуся интерфейсу, но я точно сделал лучше после прочтения книги. Теперь я могу
    аргументировать, почему интерфейс сделан так, как сделан: - Модули я выделил рамкой и написал заголовки на цветной
    области, чтобы они стали самым заметным контейнером; - Заголовки занятий выделил жирным, чтобы отделить их от
    заголовков задач; - Задачи явно выделил с помощью цвета фона и добавив точки слева, чтобы пользователю было понятно,
    что это перетаскиваемые элементы; - Второстепенную информацию, вроде баллов и дедлайнов написал тонким шрифтом,
    чтобы отделить её от более важной; - Теги разделил цветами, чтобы явно видеть, где есть задачи с оценкой, а где нет.
</p>

<h3 class="text-3xl mb-4 mt-4">Делаем интерактивненько</h3>

<p class="mb-2">
    Хорошо, про UI подумали, но надо же, чтобы всё это еще и сохранялось при редактировании или чтобы что-то менялось на
    страничке в зависимости от ввода пользователя. А как? Расскажу на примере странички с настройкой доступности курса
    для групп учеников. Выглядит она так: ![[course_visibility.png]] Слева - список групп. При клике на настройки группы
    справа появляются настройки видимости занятий в курсе. Что нас интересует, так это поле поиска, где можно найти
    группу по названию. Для такого сценария вполне подходит htmx.
</p>

<blockquote>
    <p class="mb-2">
        [!Что вообще такое htmx?] HTMX - это JavaScript библиотека, которая позволяет получать доступ к современным
        возможностям браузера (AJAX, CSS Transitions, WebSockets и Server Sent Events) напрямую через HTML атрибуты, без
        необходимости писать JavaScript код. Это позволяет создавать динамические веб-интерфейсы более простым и
        декларативным способом, следуя философии HTML-first.
    </p>

    <p class="mb-2">
        Примеры использования HTMX: 1. Динамическая подгрузка контента без перезагрузки страницы (бесконечная прокрутка,
        подгрузка комментариев) 2. Живой поиск с автодополнением 3. Формы с мгновенной валидацией 4. Чаты и системы
        обмена сообщениями в реальном времени 5. Динамическое обновление части страницы (например, счетчик лайков) 6.
        Табы и аккордеоны без JavaScript 7. Модальные окна с динамическим содержимым 8. Автосохранение форм 9. Загрузка
        файлов с прогресс-баром 10. Мультистраничные формы с пошаговым заполнением
    </p>
</blockquote>

<p class="mb-2">
    В данном случае я использовал htmx для того, чтобы при вводе названия группы в поле, делать поисковый запрос и
    менять список ниже таким образом, чтобы там отображались только подходящие группы.
</p>

<p>Чтобы это работало, нужно для начала добавить вызов API по изменению состоянию input-а:</p>
<pre>
    <code>
&lt;input
    type=&quot;text&quot;
    placeholder=&quot;Введите название группы&quot;
    hx-get=&quot;{% raw %}{% url 'course:group-search' course.id %}{% endraw %}&quot;
    hx-trigger=&quot;input changed delay:500ms&quot;
    hx-target=&quot;#group-list&quot;
    hx-swap=&quot;innerHTML&quot;
    name=&quot;search&quot;
    hx-vals=&quot;{'search': this.value}&quot;
&gt;
    </code>
</pre>

<p class="mb-2">
    Затем обработать сам запрос:
</p>

<pre>
    <code class="language-python">
def search_group_by_name(request, course_id: int):
    course = get_object_or_404(Course, id=course_id)
    groups = Group.objects.filter(name__icontains=request.GET['search']).all()
    context = {
        'course': course,
        'groups': groups,
    }
    return render(
        request,
        template_name="group/partial/visibility.html",
        context={
            **context,
            **admin_site.each_context(request),
        },
    )
    </code>
</pre>

<p class="mb-2">И вернуть html-шаблон, который заменит элементы списка с группами:</p>

<pre>
    <code>
        {% raw %}
        &lt;ul id=&quot;group-list&quot; class=&quot;space-y-2&quot;&gt;
            {\% for group in groups \%}
            &lt;li&gt;
                &lt;p class=&quot;mb-2&quot;&gt;{{ group.name }}&lt;/p&gt;
            &lt;/li&gt;
            {\% endfor \%}
        &lt;/ul&gt;
        {% endraw %}
    </code>
</pre>

<p class="mb-2">
    Выглядит сильно проще, нежели писать что-то подобнлн на JQuery или на ванильном JavaScript. А главное - работает.
</p>

<h3 class="text-3xl mb-4 mt-4">Мелочь, а приятно</h3>

<p class="mb-2">Еще расскажу о маленьком пасхальном яйце, которое успел добавить просто потому что.</p>

<p class="mb-2">
    Авторизация в админку всегда была вещью, до которой руки не доходили никогда. Эту страничку большинство людей из
    команды видят ровно один раз, пишут в чат "ой, а дайте доступ", проходят авторизацию и забывают о ней до конца своей
    работы на проекте. Так она выглядела до всех правок:
</p>

<p class="mb-2">
    ![[login<em
        >old.png]] Но я эту страничку вижу довольно часто - особенно на тестовых стендах, когда нужно убедиться, что
        изменения в админке ничего не сломали. Поэтому сделал себе (и чуть реже - другим) приятное - заменил стандартное
        сообщение с просьбой залогиниться на вот такой виртуальный бейдж сотрудника: ![[django</em
    >admin_welcome.png]] Срисовывал с настоящего бейджа: ![[badge-banner.png]] Стало чуть более душевно, как мне
    кажется.
</p>

<h2 class="text-4xl mb-8 mt-8">Время подвести итоги</h2>

<p class="mb-2">За время работы над задачей по созданию бэк-офиса я вынес для себя несколько важных уроков:</p>

<ol class="list-decimal mb-2">
    <li class="ml-4">
        <p class="mb-2">
            Готовых решений не бывает, их всё еще надо допиливать напильником под свой проект. Django-unfold дает
            современный UI и набор полезных компонентов "из коробки", но внедрять его в проект, который давно
            развивается, может быть непросто.
        </p>
    </li>
    <li class="ml-4">
        <p class="mb-2">
            Важно думать об удобстве конечного пользователя. Локализация интерфейса, продуманная навигация и группировка
            функционала сделали админку значительно удобнее для создателей учебного контента.
        </p>
    </li>
    <li class="ml-4">
       При отсутствии дизайнера можно создавать приличные интерфейсы, опираясь на:
        <ul class="list-disc">
            <li class="ml-4">Готовые библиотеки компонентов;</li>
            <li class="ml-4">Базовые принципы UI/UX из книг вроде "Refactoring UI";</li>
            <li class="ml-4">Существующие решения как источник вдохновения.</li>
        </ul>
    </li>
    <li class="ml-4">
            HTMX + TailwindCSS оказались отличными инструментами для бэкенд-разработчика. Они позволяют создавать
            интерактивные и удобные интерфейсы без глубокого погружения во фронтенд-разработку.
    </li>
</ol>

<p class="mb-2">
    В итоге получился удобный инструмент для работы с контентом, который не требует специальных знаний от пользователей.
    А я получил ценный опыт создания интерфейсов.
</p>
</div>
{% endblock %}
